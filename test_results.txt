============================= test session starts ==============================
platform linux -- Python 3.12.11, pytest-8.4.1, pluggy-1.6.0 -- /home/jules/.pyenv/versions/3.12.11/bin/python3.12
cachedir: .pytest_cache
rootdir: /app
configfile: pytest.ini
plugins: asyncio-1.0.0, anyio-4.9.0, mock-3.14.1
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function
collecting ... collected 840 items / 5 errors

==================================== ERRORS ====================================
__________ ERROR collecting tests/bot/commands/test_party_commands.py __________
tests/bot/commands/test_party_commands.py:15: in <module>
    from backend.bot.commands.party_commands import PartyCog
backend/bot/commands/party_commands.py:22: in <module>
    class PartyCog(commands.GroupCog, name="party"):
backend/bot/commands/party_commands.py:27: in PartyCog
    @app_commands.command(name="create", description="Создать новую группу.")
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/discord/app_commands/commands.py:2060: in decorator
    return Command(
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/discord/app_commands/commands.py:687: in __init__
    self._params: Dict[str, CommandParameter] = _extract_parameters_from_callback(callback, callback.__globals__)
                                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/discord/app_commands/commands.py:380: in _extract_parameters_from_callback
    raise TypeError(f'parameter {parameter.name!r} is missing a type annotation in callback {func.__qualname__!r}')
E   TypeError: parameter 'session' is missing a type annotation in callback 'PartyCog.party_create'
_____________ ERROR collecting tests/core/crud/test_crud_party.py ______________
ImportError while importing test module '/app/tests/core/crud/test_crud_party.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/crud/test_crud_party.py:24: in <module>
    from backend.models.custom_types import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.models.custom_types' (/app/backend/models/custom_types.py)
_____________ ERROR collecting tests/core/crud/test_crud_player.py _____________
ImportError while importing test module '/app/tests/core/crud/test_crud_player.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/crud/test_crud_player.py:29: in <module>
    from backend.models.custom_types import JsonBForSQLite # This is the one we need
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.models.custom_types' (/app/backend/models/custom_types.py)
_____________ ERROR collecting tests/core/test_world_generation.py _____________
ImportError while importing test module '/app/tests/core/test_world_generation.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_world_generation.py:23: in <module>
    from backend.models.custom_types import JsonBForSQLite # Added
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.models.custom_types' (/app/backend/models/custom_types.py)
______________ ERROR collecting tests/models/test_custom_types.py ______________
ImportError while importing test module '/app/tests/models/test_custom_types.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/models/test_custom_types.py:20: in <module>
    from backend.models.custom_types import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.models.custom_types' (/app/backend/models/custom_types.py)
=============================== warnings summary ===============================
../home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/discord/player.py:29
  /home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/discord/player.py:29: DeprecationWarning: 'audioop' is deprecated and slated for removal in Python 3.13
    import audioop

../home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/pydantic/_internal/_config.py:323
  /home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/pydantic/_internal/_config.py:323: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)

../home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/passlib/utils/__init__.py:854
  /home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/passlib/utils/__init__.py:854: DeprecationWarning: 'crypt' is deprecated and slated for removal in Python 3.13
    from crypt import crypt as _crypt

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
ERROR tests/bot/commands/test_party_commands.py - TypeError: parameter 'sessi...
ERROR tests/core/crud/test_crud_party.py
ERROR tests/core/crud/test_crud_player.py
ERROR tests/core/test_world_generation.py
ERROR tests/models/test_custom_types.py
!!!!!!!!!!!!!!!!!!! Interrupted: 5 errors during collection !!!!!!!!!!!!!!!!!!!!
======================== 3 warnings, 5 errors in 8.41s =========================
