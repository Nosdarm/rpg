============================= test session starts ==============================
platform linux -- Python 3.12.11, pytest-8.4.1, pluggy-1.6.0 -- /home/jules/.pyenv/versions/3.12.11/bin/python3
cachedir: .pytest_cache
rootdir: /app
configfile: pytest.ini
plugins: asyncio-1.0.0, anyio-4.9.0, mock-3.14.1
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function
collecting ... collected 45 items / 61 errors

==================================== ERRORS ====================================
_______________ ERROR collecting tests/api/routers/test_auth.py ________________
ImportError while importing test module '/app/tests/api/routers/test_auth.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/api/routers/test_auth.py:11: in <module>
    from backend.main import app
backend/main.py:18: in <module>
    from backend.core.database import init_db
backend/core/__init__.py:9: in <module>
    from .database import Base, get_db_session, transactional, AsyncSessionLocal, engine
backend/core/database.py:9: in <module>
    from ..models.base import Base
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from partially initialized module 'backend.core.database' (most likely due to a circular import) (/app/backend/core/database.py)
------------------------------- Captured stdout --------------------------------
WARNING: Environment variable DISCORD_TOKEN is not set.
WARNING: Environment variable OPENAI_API_KEY is not set.
WARNING: Environment variable SECRET_KEY is not set. This is critical for JWT security.
WARNING: Environment variable DISCORD_CLIENT_ID is not set (required for OAuth2).
WARNING: Environment variable DISCORD_CLIENT_SECRET is not set (required for OAuth2).
WARNING: Environment variable DISCORD_REDIRECT_URI is not set (required for OAuth2).
_____________ ERROR collecting tests/bot/api/test_commands_api.py ______________
ImportError while importing test module '/app/tests/bot/api/test_commands_api.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/bot/api/test_commands_api.py:23: in <module>
    from backend.main import app # Импортируем FastAPI app из backend.main
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/main.py:19: in <module>
    from backend.bot.api.commands_api import router as commands_api_router
backend/bot/api/commands_api.py:7: in <module>
    from backend.core.command_utils import get_bot_commands
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_ ERROR collecting tests/bot/commands/master_commands/test_master_conflict_commands.py _
ImportError while importing test module '/app/tests/bot/commands/master_commands/test_master_conflict_commands.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/bot/commands/master_commands/test_master_conflict_commands.py:21: in <module>
    from backend.bot.commands.master_commands.conflict_master_commands import MasterConflictCog
backend/bot/commands/master_commands/conflict_master_commands.py:12: in <module>
    from backend.core.crud.crud_pending_conflict import pending_conflict_crud
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_ ERROR collecting tests/bot/commands/master_commands/test_master_player_commands.py _
ImportError while importing test module '/app/tests/bot/commands/master_commands/test_master_player_commands.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/bot/commands/master_commands/test_master_player_commands.py:22: in <module>
    from backend.bot.commands.master_commands.player_master_commands import MasterPlayerCog as PlayerMasterCommandsCog
backend/bot/commands/master_commands/player_master_commands.py:10: in <module>
    from backend.core.crud.crud_player import player_crud
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_ ERROR collecting tests/bot/commands/master_commands/test_master_simulation_tools_cog.py _
ImportError while importing test module '/app/tests/bot/commands/master_commands/test_master_simulation_tools_cog.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/bot/commands/master_commands/test_master_simulation_tools_cog.py:9: in <module>
    from backend.bot.commands.master_commands.master_simulation_tools_cog import MasterSimulationToolsCog
backend/bot/commands/master_commands/master_simulation_tools_cog.py:9: in <module>
    from backend.core.localization_utils import get_localized_master_message # Removed get_localized_message_template as get_localized_master_message is preferred for master commands
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_ ERROR collecting tests/bot/commands/master_commands/test_monitoring_master_commands.py _
ImportError while importing test module '/app/tests/bot/commands/master_commands/test_monitoring_master_commands.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/bot/commands/master_commands/test_monitoring_master_commands.py:13: in <module>
    from backend.bot.commands.master_commands.monitoring_master_commands import MasterMonitoringCog
backend/bot/commands/master_commands/monitoring_master_commands.py:9: in <module>
    from backend.core.crud.crud_story_log import story_log_crud
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_ ERROR collecting tests/bot/commands/master_commands/test_quest_master_commands.py _
ImportError while importing test module '/app/tests/bot/commands/master_commands/test_quest_master_commands.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/bot/commands/master_commands/test_quest_master_commands.py:13: in <module>
    from backend.bot.commands.master_commands.quest_master_commands import MasterQuestCog
backend/bot/commands/master_commands/quest_master_commands.py:11: in <module>
    from backend.core.crud.crud_quest import questline_crud, generated_quest_crud, quest_step_crud, player_quest_progress_crud
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
________ ERROR collecting tests/bot/commands/test_character_commands.py ________
ImportError while importing test module '/app/tests/bot/commands/test_character_commands.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/bot/commands/test_character_commands.py:15: in <module>
    from backend.bot.commands.character_commands import CharacterCog #, logger
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/bot/commands/character_commands.py:8: in <module>
    from backend.core.crud.crud_player import player_crud
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_________ ERROR collecting tests/bot/commands/test_general_commands.py _________
ImportError while importing test module '/app/tests/bot/commands/test_general_commands.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/bot/commands/test_general_commands.py:16: in <module>
    from backend.bot.commands.general_commands import GeneralCog
backend/bot/commands/general_commands.py:10: in <module>
    from backend.core.crud.crud_player import player_crud
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
___________ ERROR collecting tests/bot/commands/test_map_commands.py ___________
ImportError while importing test module '/app/tests/bot/commands/test_map_commands.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/bot/commands/test_map_commands.py:15: in <module>
    from backend.bot.commands.map_commands import MapMasterCog
backend/bot/commands/map_commands.py:12: in <module>
    from backend.core.map_management import (
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
__________ ERROR collecting tests/bot/commands/test_party_commands.py __________
ImportError while importing test module '/app/tests/bot/commands/test_party_commands.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/bot/commands/test_party_commands.py:15: in <module>
    from backend.bot.commands.party_commands import PartyCog
backend/bot/commands/party_commands.py:10: in <module>
    from backend.core.crud.crud_player import player_crud
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
__________________ ERROR collecting tests/bot/test_events.py ___________________
ImportError while importing test module '/app/tests/bot/test_events.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/bot/test_events.py:17: in <module>
    import backend.bot.events # Changed import style
    ^^^^^^^^^^^^^^^^^^^^^^^^^
backend/bot/events.py:8: in <module>
    from ..core.crud.crud_guild import guild_crud # Assuming guild_crud exists
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
____________ ERROR collecting tests/core/crud/test_crud_faction.py _____________
ImportError while importing test module '/app/tests/core/crud/test_crud_faction.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/crud/test_crud_faction.py:16: in <module>
    from backend.models.generated_faction import GeneratedFaction
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_________ ERROR collecting tests/core/crud/test_crud_inventory_item.py _________
ImportError while importing test module '/app/tests/core/crud/test_crud_inventory_item.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/crud/test_crud_inventory_item.py:9: in <module>
    from backend.models.item import Item
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
______________ ERROR collecting tests/core/crud/test_crud_item.py ______________
ImportError while importing test module '/app/tests/core/crud/test_crud_item.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/crud/test_crud_item.py:9: in <module>
    from backend.models.item import Item
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_____________ ERROR collecting tests/core/crud/test_crud_party.py ______________
ImportError while importing test module '/app/tests/core/crud/test_crud_party.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/crud/test_crud_party.py:19: in <module>
    from backend.models.player import Player # Needed for leader_player_id
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
________ ERROR collecting tests/core/crud/test_crud_party_npc_memory.py ________
ImportError while importing test module '/app/tests/core/crud/test_crud_party_npc_memory.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/crud/test_crud_party_npc_memory.py:11: in <module>
    from backend.core.crud.crud_party_npc_memory import crud_party_npc_memory, CRUDPartyNpcMemory
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_____________ ERROR collecting tests/core/crud/test_crud_player.py _____________
ImportError while importing test module '/app/tests/core/crud/test_crud_player.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/crud/test_crud_player.py:19: in <module>
    from backend.models.party import Party, PartyTurnStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_____________ ERROR collecting tests/core/crud/test_crud_quest.py ______________
ImportError while importing test module '/app/tests/core/crud/test_crud_quest.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/crud/test_crud_quest.py:8: in <module>
    from backend.models.quest import Questline, GeneratedQuest, QuestStep, PlayerQuestProgress
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
______________ ERROR collecting tests/core/test_ability_system.py ______________
ImportError while importing test module '/app/tests/core/test_ability_system.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_ability_system.py:16: in <module>
    from backend.core.ability_system import activate_ability, apply_status, remove_status
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_____________ ERROR collecting tests/core/test_action_processor.py _____________
ImportError while importing test module '/app/tests/core/test_action_processor.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_action_processor.py:21: in <module>
    from backend.core.action_processor import process_actions_for_guild
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
____________ ERROR collecting tests/core/test_ai_analysis_system.py ____________
ImportError while importing test module '/app/tests/core/test_ai_analysis_system.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_ai_analysis_system.py:16: in <module>
    from backend.core.ai_analysis_system import analyze_generated_content, AIAnalysisResult, EntityAnalysisReport
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_____________ ERROR collecting tests/core/test_ai_orchestrator.py ______________
ImportError while importing test module '/app/tests/core/test_ai_orchestrator.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_ai_orchestrator.py:18: in <module>
    from backend.core.ai_orchestrator import trigger_ai_generation_flow, save_approved_generation
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
____________ ERROR collecting tests/core/test_ai_prompt_builder.py _____________
ImportError while importing test module '/app/tests/core/test_ai_prompt_builder.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_ai_prompt_builder.py:15: in <module>
    from backend.models import GuildConfig, Location, Player, GeneratedNpc, Relationship, RuleConfig
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
____________ ERROR collecting tests/core/test_ai_response_parser.py ____________
ImportError while importing test module '/app/tests/core/test_ai_response_parser.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_ai_response_parser.py:15: in <module>
    from backend.core.ai_response_parser import (
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
______________ ERROR collecting tests/core/test_check_resolver.py ______________
ImportError while importing test module '/app/tests/core/test_check_resolver.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_check_resolver.py:12: in <module>
    from backend.models.player import Player
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
___________ ERROR collecting tests/core/test_combat_cycle_manager.py ___________
ImportError while importing test module '/app/tests/core/test_combat_cycle_manager.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_combat_cycle_manager.py:13: in <module>
    from backend.core.combat_cycle_manager import start_combat, process_combat_turn #, _handle_combat_end_consequences (private)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
______________ ERROR collecting tests/core/test_combat_engine.py _______________
ImportError while importing test module '/app/tests/core/test_combat_engine.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_combat_engine.py:13: in <module>
    from backend.core.combat_engine import (
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
______________ ERROR collecting tests/core/test_command_utils.py _______________
ImportError while importing test module '/app/tests/core/test_command_utils.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_command_utils.py:15: in <module>
    from backend.core.command_utils import (
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
________ ERROR collecting tests/core/test_conflict_simulation_system.py ________
ImportError while importing test module '/app/tests/core/test_conflict_simulation_system.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_conflict_simulation_system.py:13: in <module>
    from backend.models import Player, GeneratedNpc, PendingConflict, Item, InventoryItem # Added Item, InventoryItem
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_____________ ERROR collecting tests/core/test_dialogue_system.py ______________
ImportError while importing test module '/app/tests/core/test_dialogue_system.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_dialogue_system.py:7: in <module>
    from backend.core.dialogue_system import (
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
____________ ERROR collecting tests/core/test_experience_system.py _____________
ImportError while importing test module '/app/tests/core/test_experience_system.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_experience_system.py:14: in <module>
    from backend.core.experience_system import award_xp, _check_for_level_up
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_______________ ERROR collecting tests/core/test_game_events.py ________________
ImportError while importing test module '/app/tests/core/test_game_events.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_game_events.py:13: in <module>
    from backend.core.game_events import log_event
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
__________ ERROR collecting tests/core/test_global_entity_manager.py ___________
ImportError while importing test module '/app/tests/core/test_global_entity_manager.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_global_entity_manager.py:16: in <module>
    from backend.models import (
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
___________ ERROR collecting tests/core/test_interaction_handlers.py ___________
ImportError while importing test module '/app/tests/core/test_interaction_handlers.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_interaction_handlers.py:12: in <module>
    from backend.models.check_results import CheckOutcome # Removed CheckOutcomeStatus
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
____________ ERROR collecting tests/core/test_localization_utils.py ____________
ImportError while importing test module '/app/tests/core/test_localization_utils.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_localization_utils.py:14: in <module>
    from backend.core.localization_utils import get_localized_text, get_localized_entity_name, get_batch_localized_entity_names # Added import
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_____________ ERROR collecting tests/core/test_locations_utils.py ______________
ImportError while importing test module '/app/tests/core/test_locations_utils.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_locations_utils.py:19: in <module>
    from backend.core.locations_utils import get_localized_text, get_location, get_location_by_static_id
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
______________ ERROR collecting tests/core/test_map_management.py ______________
ImportError while importing test module '/app/tests/core/test_map_management.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_map_management.py:14: in <module>
    from backend.core.map_management import (
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
______________ ERROR collecting tests/core/test_movement_logic.py ______________
ImportError while importing test module '/app/tests/core/test_movement_logic.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_movement_logic.py:14: in <module>
    from backend.core.movement_logic import handle_move_action, MovementError
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_______________ ERROR collecting tests/core/test_nlu_service.py ________________
ImportError while importing test module '/app/tests/core/test_nlu_service.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_nlu_service.py:10: in <module>
    from backend.core.nlu_service import parse_player_input
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
___________ ERROR collecting tests/core/test_npc_combat_strategy.py ____________
ImportError while importing test module '/app/tests/core/test_npc_combat_strategy.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_npc_combat_strategy.py:14: in <module>
    from backend.core.npc_combat_strategy import (
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
____________ ERROR collecting tests/core/test_npc_memory_system.py _____________
ImportError while importing test module '/app/tests/core/test_npc_memory_system.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_npc_memory_system.py:6: in <module>
    from backend.core.npc_memory_system import add_to_npc_memory, get_npc_memory
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_______________ ERROR collecting tests/core/test_quest_system.py _______________
ImportError while importing test module '/app/tests/core/test_quest_system.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_quest_system.py:7: in <module>
    from backend.core.quest_system import (
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
___________ ERROR collecting tests/core/test_relationship_system.py ____________
ImportError while importing test module '/app/tests/core/test_relationship_system.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_relationship_system.py:6: in <module>
    from backend.core.relationship_system import _get_canonical_entity_pair, update_relationship
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_____________ ERROR collecting tests/core/test_report_formatter.py _____________
ImportError while importing test module '/app/tests/core/test_report_formatter.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_report_formatter.py:14: in <module>
    from backend.core.report_formatter import format_turn_report, _format_log_entry_with_names_cache, _collect_entity_refs_from_log_entry
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_______________ ERROR collecting tests/core/test_trade_system.py _______________
ImportError while importing test module '/app/tests/core/test_trade_system.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_trade_system.py:8: in <module>
    from backend.core.trade_system import (
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_____________ ERROR collecting tests/core/test_turn_controller.py ______________
ImportError while importing test module '/app/tests/core/test_turn_controller.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_turn_controller.py:18: in <module>
    from backend.core.turn_controller import (
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_____________ ERROR collecting tests/core/test_world_generation.py _____________
ImportError while importing test module '/app/tests/core/test_world_generation.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core/test_world_generation.py:20: in <module>
    from backend.models.generated_faction import GeneratedFaction # Added
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
____________ ERROR collecting tests/models/test_combat_encounter.py ____________
ImportError while importing test module '/app/tests/models/test_combat_encounter.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/models/test_combat_encounter.py:18: in <module>
    from backend.models.combat_encounter import CombatEncounter # This model now uses JsonBForSQLite
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
______________ ERROR collecting tests/models/test_command_info.py ______________
ImportError while importing test module '/app/tests/models/test_command_info.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/models/test_command_info.py:12: in <module>
    from backend.models.command_info import (
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
______________ ERROR collecting tests/models/test_global_event.py ______________
ImportError while importing test module '/app/tests/models/test_global_event.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/models/test_global_event.py:4: in <module>
    from backend.models.global_event import GlobalEvent
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_______________ ERROR collecting tests/models/test_global_npc.py _______________
ImportError while importing test module '/app/tests/models/test_global_npc.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/models/test_global_npc.py:4: in <module>
    from backend.models.global_npc import GlobalNpc
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_____________ ERROR collecting tests/models/test_inventory_item.py _____________
ImportError while importing test module '/app/tests/models/test_inventory_item.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/models/test_inventory_item.py:8: in <module>
    from backend.models.item import Item
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
__________________ ERROR collecting tests/models/test_item.py __________________
ImportError while importing test module '/app/tests/models/test_item.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/models/test_item.py:8: in <module>
    from backend.models.item import Item
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
______________ ERROR collecting tests/models/test_mobile_group.py ______________
ImportError while importing test module '/app/tests/models/test_mobile_group.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/models/test_mobile_group.py:4: in <module>
    from backend.models.mobile_group import MobileGroup
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_________________ ERROR collecting tests/models/test_party.py __________________
ImportError while importing test module '/app/tests/models/test_party.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/models/test_party.py:21: in <module>
    from backend.models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
____________ ERROR collecting tests/models/test_party_npc_memory.py ____________
ImportError while importing test module '/app/tests/models/test_party_npc_memory.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/models/test_party_npc_memory.py:13: in <module>
    from backend.models.party_npc_memory import PartyNpcMemory
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_________________ ERROR collecting tests/models/test_player.py _________________
ImportError while importing test module '/app/tests/models/test_player.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/models/test_player.py:22: in <module>
    from backend.models.party import Party, PartyTurnStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_________________ ERROR collecting tests/models/test_quest.py __________________
ImportError while importing test module '/app/tests/models/test_quest.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/models/test_quest.py:4: in <module>
    from backend.models.quest import Questline, GeneratedQuest, QuestStep, PlayerQuestProgress
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_____________ ERROR collecting tests/models/test_status_effect.py ______________
ImportError while importing test module '/app/tests/models/test_status_effect.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/models/test_status_effect.py:18: in <module>
    from backend.models.status_effect import ActiveStatusEffect, StatusEffect
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
_____________________ ERROR collecting tests/test_main.py ______________________
ImportError while importing test module '/app/tests/test_main.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_main.py:17: in <module>
    from backend import main as main_module
backend/main.py:19: in <module>
    from backend.bot.api.commands_api import router as commands_api_router
backend/bot/api/commands_api.py:7: in <module>
    from backend.core.command_utils import get_bot_commands
backend/core/__init__.py:15: in <module>
    from .check_resolver import resolve_check, CheckOutcome, CheckResult, ModifierDetail # CheckError is an exception
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/core/check_resolver.py:7: in <module>
    from backend.core.crud import crud_relationship
backend/core/crud/__init__.py:4: in <module>
    from .crud_player import player_crud
backend/core/crud/crud_player.py:7: in <module>
    from ...models.player import Player, PlayerStatus
backend/models/__init__.py:14: in <module>
    from .player import Player # Import Player model
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/player.py:8: in <module>
    from .inventory_item import InventoryItem # For inventory relationship, ensure it's fully imported
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend/models/inventory_item.py:9: in <module>
    from .item import Item
backend/models/item.py:7: in <module>
    from ..core.database import JsonBForSQLite
E   ImportError: cannot import name 'JsonBForSQLite' from 'backend.core.database' (/app/backend/core/database.py)
=============================== warnings summary ===============================
../home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/discord/player.py:29
  /home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/discord/player.py:29: DeprecationWarning: 'audioop' is deprecated and slated for removal in Python 3.13
    import audioop

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
ERROR tests/api/routers/test_auth.py
ERROR tests/bot/api/test_commands_api.py
ERROR tests/bot/commands/master_commands/test_master_conflict_commands.py
ERROR tests/bot/commands/master_commands/test_master_player_commands.py
ERROR tests/bot/commands/master_commands/test_master_simulation_tools_cog.py
ERROR tests/bot/commands/master_commands/test_monitoring_master_commands.py
ERROR tests/bot/commands/master_commands/test_quest_master_commands.py
ERROR tests/bot/commands/test_character_commands.py
ERROR tests/bot/commands/test_general_commands.py
ERROR tests/bot/commands/test_map_commands.py
ERROR tests/bot/commands/test_party_commands.py
ERROR tests/bot/test_events.py
ERROR tests/core/crud/test_crud_faction.py
ERROR tests/core/crud/test_crud_inventory_item.py
ERROR tests/core/crud/test_crud_item.py
ERROR tests/core/crud/test_crud_party.py
ERROR tests/core/crud/test_crud_party_npc_memory.py
ERROR tests/core/crud/test_crud_player.py
ERROR tests/core/crud/test_crud_quest.py
ERROR tests/core/test_ability_system.py
ERROR tests/core/test_action_processor.py
ERROR tests/core/test_ai_analysis_system.py
ERROR tests/core/test_ai_orchestrator.py
ERROR tests/core/test_ai_prompt_builder.py
ERROR tests/core/test_ai_response_parser.py
ERROR tests/core/test_check_resolver.py
ERROR tests/core/test_combat_cycle_manager.py
ERROR tests/core/test_combat_engine.py
ERROR tests/core/test_command_utils.py
ERROR tests/core/test_conflict_simulation_system.py
ERROR tests/core/test_dialogue_system.py
ERROR tests/core/test_experience_system.py
ERROR tests/core/test_game_events.py
ERROR tests/core/test_global_entity_manager.py
ERROR tests/core/test_interaction_handlers.py
ERROR tests/core/test_localization_utils.py
ERROR tests/core/test_locations_utils.py
ERROR tests/core/test_map_management.py
ERROR tests/core/test_movement_logic.py
ERROR tests/core/test_nlu_service.py
ERROR tests/core/test_npc_combat_strategy.py
ERROR tests/core/test_npc_memory_system.py
ERROR tests/core/test_quest_system.py
ERROR tests/core/test_relationship_system.py
ERROR tests/core/test_report_formatter.py
ERROR tests/core/test_trade_system.py
ERROR tests/core/test_turn_controller.py
ERROR tests/core/test_world_generation.py
ERROR tests/models/test_combat_encounter.py
ERROR tests/models/test_command_info.py
ERROR tests/models/test_global_event.py
ERROR tests/models/test_global_npc.py
ERROR tests/models/test_inventory_item.py
ERROR tests/models/test_item.py
ERROR tests/models/test_mobile_group.py
ERROR tests/models/test_party.py
ERROR tests/models/test_party_npc_memory.py
ERROR tests/models/test_player.py
ERROR tests/models/test_quest.py
ERROR tests/models/test_status_effect.py
ERROR tests/test_main.py
!!!!!!!!!!!!!!!!!!! Interrupted: 61 errors during collection !!!!!!!!!!!!!!!!!!!
======================== 1 warning, 61 errors in 5.63s =========================
