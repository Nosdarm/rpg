## Инструкции для Агента по работе с UI (`src/ui/`)

Этот документ содержит специфические инструкции и соглашения для разработки UI клиента.

### 1. Технологический стек

*   **Фреймворк**: React (v18+) с использованием функциональных компонентов и хуков.
*   **Язык**: TypeScript. Все новые компоненты и логика должны быть написаны на TypeScript.
*   **Сборщик**: Vite.
*   **Маршрутизация**: React Router DOM.
*   **Управление состоянием**: Zustand для глобального состояния, React Context API для локализованного или специфичного состояния, где это уместно.
*   **Стилизация**:
    *   Предпочтение отдается **CSS Modules** для стилей компонентов для обеспечения локальной области видимости.
    *   Рассмотреть использование **Tailwind CSS** для утилитарных классов и быстрой верстки, если это будет признано целесообразным командой.
    *   Глобальные стили (если необходимы) должны находиться в `src/styles/`.
*   **Линтинг и форматирование**: ESLint и Prettier. Конфигурации будут добавлены в корень `src/ui/`. Необходимо придерживаться правил линтера.

### 2. Структура проекта

Придерживайтесь структуры, описанной в `src/ui/README.md`. Ключевые моменты:

*   **Компоненты (`src/components/`)**:
    *   `common/`: Мелкие, переиспользуемые компоненты (Button, Input, Modal, Icon и т.д.).
    *   `layout/`: Компоненты для общей структуры страниц (Header, Sidebar, Footer, MainLayout и т.д.).
    *   `features/`: Более крупные компоненты или группы компонентов, относящиеся к конкретной функциональности (например, `RuleConfigEditor`, `PlayerListTable`, `QuestDetailsView`).
    *   Каждый компонент должен находиться в своей папке с именем компонента (например, `src/components/common/Button/Button.tsx`, `src/components/common/Button/Button.module.css`).
*   **Страницы (`src/pages/`)**: Компоненты, представляющие собой целые страницы или экраны. Обычно собираются из более мелких компонентов.
*   **Сервисы (`src/services/`)**: Логика для взаимодействия с API бэкенда. Старайтесь выносить всю работу с сетью сюда. Функции должны быть типизированы.
*   **Хранилища (`src/store/`)**: Слайсы Zustand для управления глобальным состоянием.
*   **Типы (`src/types/`)**: Определения TypeScript типов и интерфейсов. Разделяйте их по доменам или назначению (например, `api.ts`, `entities.ts`, `ui.ts`).

### 3. Соглашения по коду

*   **Именование**:
    *   Компоненты: `PascalCase` (например, `MyComponent`).
    *   Файлы компонентов: `PascalCase.tsx` (например, `MyComponent.tsx`).
    *   CSS Modules: `PascalCase.module.css` (например, `MyComponent.module.css`).
    *   Хуки: `useCamelCase` (например, `useAuth`).
    *   Функции и переменные: `camelCase`.
*   **Импорты**: Старайтесь использовать абсолютные импорты от `src/` (например, `import MyComponent from 'src/components/MyComponent'`). Настройте `tsconfig.json` для поддержки этого (`baseUrl: "./src"`). (Vite обычно поддерживает это по умолчанию).
*   **Пропсы компонентов**: Всегда типизируйте пропсы компонентов. Используйте интерфейсы или типы.
*   **Обработка ошибок**: Предусматривайте обработку ошибок при работе с API и в других асинхронных операциях.
*   **Локализация (i18n)**: Все текстовые строки, видимые пользователю, должны быть локализуемы. Механизм локализации будет определен (например, `i18next`). Пока что можно использовать плейсхолдеры или английские строки с пометкой `// TODO: i18n`.
*   **Комментарии**: Пишите комментарии для сложной логики или неочевидных частей кода.

### 4. Тестирование

*   Unit-тесты для компонентов и утилит будут использоваться (например, с помощью Vitest и React Testing Library).
*   Старайтесь покрывать тестами ключевую бизнес-логику и сложные компоненты.

### 5. Взаимодействие с API

*   Все запросы к API должны проходить через модуль(и) в `src/services/`.
*   Используйте `fetch` API или библиотеку-обертку (например, `axios`), если будет принято решение ее добавить.
*   Определяйте типы для запросов и ответов API.

### 6. Управление зависимостями

*   Используйте `npm` для управления зависимостями.
*   Перед добавлением новой зависимости обсудите ее необходимость.

Эти инструкции могут быть дополнены по мере развития проекта.
